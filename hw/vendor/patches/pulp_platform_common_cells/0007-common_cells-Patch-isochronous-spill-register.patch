From 79330212dd2430ded28fc59d585818398d47ea12 Mon Sep 17 00:00:00 2001
From: Luca Colagrande <luca.colagrande3@gmail.com>
Date: Tue, 14 Jun 2022 12:43:27 +0200
Subject: [PATCH] common_cells: Patch isochronous spill register

---
 src/isochronous_spill_register.sv | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/isochronous_spill_register.sv b/src/isochronous_spill_register.sv
index 576b477..83bdf10 100644
--- a/src/isochronous_spill_register.sv
+++ b/src/isochronous_spill_register.sv
@@ -83,7 +83,7 @@ module isochronous_spill_register #(
     `FFLARN(rd_pointer_q, rd_pointer_q+1, (dst_valid_o && dst_ready_i), '0, dst_clk_i, dst_rst_ni)
 
     T [1:0] mem_d, mem_q;
-    `FFLNR(mem_q, mem_d, (src_valid_i && src_ready_o), src_clk_i)
+    `FFLARN(mem_q, mem_d, (src_valid_i && src_ready_o), '0, src_clk_i, src_rst_ni)
     always_comb begin
       mem_d = mem_q;
       mem_d[wr_pointer_q[0]] = src_data_i;
-- 
2.28.0

